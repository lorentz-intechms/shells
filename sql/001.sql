SELECT CONCAT('NODE_OPTIONS="--trace-warnings" sudo node bin/main.js NonethVideo1Command --id=',vd.id , ' --url="',


  CASE WHEN path REGEXP '^https?://' THEN path 
  
  WHEN path NOT REGEXP '^/' THEN CONCAT('https://wjm.eny7kg.com/', path)
  ELSE CONCAT('https://wjm.eny7kg.com', path) 
  
  END,

  '" --filename="', CASE
    WHEN vd.file_name REGEXP '\\.[a-zA-Z0-9]+$' THEN vv.file_name
    ELSE CONCAT(vd.file_name, '.mp4')
  END,'"', IF(MOD(vd.id, 4) = 0, ' ;', ';') , ' #',  v.d_id, ' ', vv.sort, ' ' ,vd.resolution)  FROM `mac_vod` AS v
LEFT JOIN `mac_vurl` AS vv ON v.d_id = vv.d_id
LEFT JOIN
(
SELECT *
FROM mac_vurl_detail d1
WHERE CAST(d1.resolution AS UNSIGNED) = (
    SELECT MAX(CAST(resolution AS UNSIGNED))
    FROM mac_vurl_detail d2
    WHERE d2.vurl_id = d1.vurl_id AND d2.type = 'DECRYPTION'
) AND d1.type = 'DECRYPTION'



) AS vd
 ON vv.id = vd.vurl_id
WHERE v.d_id IN
('87118',
'152',
'88332',
'86621',
'59232',
'74802',
'84466',
'85556',
'1180',
'201',
'39',
'88664',
'126',
'86619',
'85476',
'85411',
'87253',
'77656',
'85846',
'270',
'80758',
'318',
'82996',
'84780',
'63',
'89435',
'87319',
'86132',
'83081',
'66',
'77130',
'87424',
'86305',
'88769',
'77657',
'89161',
'61331',
'87288',
'85360',
'89439',
'87726',
'88330',
'83000',
'88537',
'74926',
'61307',
'120',
'86787',
'63124',
'86690',
'85429',
'83623',
'166',
'83672',
'82705',
'86304',
'74266',
'89228',
'88241',
'83739',
'87672',
'83620',
'82303',
'74913',
'60397',
'83846',
'167',
'49979',
'82488',
'80921',
'86558',
'3275',
'80555',
'80970',
'80984',
'88018',
'85034',
'81929',
'86559',
'141',
'84143',
'77554',
'61494',
'50896',
'47296',
'190',
'1147',
'89592',
'61882',
'87220',
'78319',
'84107',
'127',
'89627',
'86691',
'84606',
'68020',
'85285',
'24784',
'4746',
'85284',
'74045',
'3482',
'1899',
'87421',
'66753',
'30271',
'89475',
'83017',
'125',
'87481',
'47168',
'7551',
'30651',
'81174',
'88171',
'81866',
'74830',
'25439',
'49671',
'87793',
'80813',
'88194',
'68018',
'90059',
'82757',
'56426',
'84733',
'48148',
'88770',
'84452',
'78819',
'34008',
'1392',
'38',
'83016',
'81928',
'86853',
'56394',
'82307',
'83223',
'87552',
'61938',
'73264',
'76125',
'59359',
'24352',
'40187',
'79966',
'16414',
'56395',
'88062',
'9139',
'81834',
'19592',
'87423',
'34010',
'80525',
'78642',
'83127',
'34007',
'35',
'88258',
'88239',
'53519',
'80838',
'49037',
'55742',
'9545',
'78958',
'89474',
'84116',
'40186',
'81367',
'12661',
'85141',
'81187',
'78510',
'25068',
'89258',
'60764',
'59782',
'44183',
'58941',
'24798',
'63316',
'29826',
'62295',
'75199',
'150',
'23673',
'56393',
'86696',
'81736',
'24182',
'74716',
'79544',
'67070',
'84604',
'85848',
'9519',
'15',
'23877',
'1388',
'82473',
'89606',
'12884',
'79385',
'42178',
'78160',
'60879',
'59328',
'1746',
'2561',
'81164',
'47666',
'78515',
'67810',
'86358',
'85552',
'17997',
'75858',
'88060',
'30027',
'2916',
'25287',
'80474',
'8451',
'85555',
'1391',
'27357',
'76910',
'4174',
'53520',
'1136',
'50455',
'84605',
'32354',
'27469',
'931',
'89642',
'62744',
'88587',
'60105',
'86135',
'84198',
'27760',
'83426',
'21425',
'61195',
'62081',
'84734',
'83018',
'85244',
'59268',
'63225',
'70765',
'84203',
'62131',
'80463',
'44184',
'21126',
'87252',
'5657',
'3549',
'71252',
'2185',
'266',
'822',
'10298',
'358',
'86367',
'24912',
'34',
'64533',
'86401',
'79127',
'44176',
'25769',
'64640',
'51437',
'87837',
'1189',
'62320',
'50584',
'1841',
'44571',
'88840',
'84932',
'75564',
'61306',
'2737',
'30444',
'15034',
'11154',
'30107',
'1294',
'87886',
'85485',
'44185',
'2697',
'23672',
'74930',
'60920',
'1389',
'321',
'17604',
'87721',
'644',
'62933',
'43105',
'1814',
'57',
'9573',
'87679',
'19576',
'63212',
'59497',
'16030',
'44186',
'30155',
'84149',
'89163',
'4651',
'59514',
'21361',
'86484',
'62017',
'86100',
'81284',
'1390',
'81840',
'3545',
'5104',
'32352',
'8458',
'68',
'64055',
'61626',
'65149',
'86366',
'38189',
'1291',
'63970',
'22901',
'1191',
'75102',
'24727',
'50978',
'86303',
'1898',
'2064',
'49605',
'49546',
'50713',
'63221',
'16156',
'75318',
'79870',
'16773',
'18273',
'3278',
'79130',
'5447',
'2490',
'85857',
'79489',
'88809',
'79348',
'61283',
'10577',
'15150',
'50268',
'84153',
'78362',
'30020',
'79567',
'24679',
'88808',
'32351',
'72417',
'60983',
'23137',
'61278',
'3888',
'61358',
'84155',
'85282',
'61254',
'44180',
'75302',
'2276',
'47839',
'85831',
'19225',
'63424',
'68152',
'16101',
'81289',
'64012',
'59573',
'81185',
'85943',
'85216',
'81200',
'158',
'9325',
'22855',
'62126',
'87352',
'23674',
'2373',
'84454',
'37200',
'39888',
'55968',
'79298',
'84806',
'20127',
'59279',
'67665',
'65980',
'4291',
'86854',
'30279',
'62363',
'10785',
'74712',
'15627',
'24256',
'67615',
'44187',
'39739',
'89407',
'30614',
'14907',
'19961',
'50794',
'88334',
'75736',
'59984',
'65590',
'59332',
'65360',
'2685',
'75788',
'87238',
'74337',
'65712',
'86302',
'63079',
'15702',
'86862',
'86801',
'38188',
'80523',
'77255',
'21777',
'1001',
'553',
'23294',
'11051',
'66939',
'77654',
'52352',
'24451',
'74616',
'23825',
'33459',
'74854',
'48642',
'45253',
'88771',
'14022',
'11082',
'53111',
'81570',
'27909',
'87087',
'61',
'62127',
'2206',
'30615',
'6',
'45476',
'36714',
'84300',
'44181',
'89018',
'31400',
'7910',
'30056',
'59735',
'5928',
'2447',
'18017',
'30277',
'53110',
'89256',
'89274',
'44903',
'32831',
'87043',
'59920',
'30762',
'44438',
'4909',
'59948',
'79009',
'474',
'23980',
'1628',
'10978',
'65046',
'30022',
'29933',
'53112',
'1647',
'6535',
'7436',
'61515',
'84269',
'25374',
'42122',
'61332',
'86978',
'46765',
'199',
'83674',
'88063',
'30619',
'34669',
'68022',
'17473',
'4135',
'38164',
'75181',
'18511',
'61154',
'74529',
'55345',
'72821',
'75200',
'63986',
'60264',
'30029',
'89473',
'83466',
'30278',
'2596',
'33497',
'79547',
'4849',
'51017',
'23310',
'11251',
'2205',
'29809',
'41194',
'6082',
'85613',
'976',
'43655',
'5405',
'79198',
'76697',
'21552',
'33',
'53109',
'44524',
'556',
'73613',
'89884',
'13118',
'30435',
'659',
'88303',
'46839',
'59726',
'27248',
'51029',
'22055',
'89719',
'59238',
'86782',
'21709',
'82589',
'25289',
'50751',
'5290',
'3787',
'79952',
'63022',
'79446',
'80990',
'74627',
'4787',
'80686',
'49480',
'22426',
'15928',
'1043',
'81467',
'9128',
'87336',
'62133',
'23927',
'17730',
'99',
'18044',
'184',
'28803',
'37171',
'83959',
'39740',
'86692',
'68449',
'1111',
'37445',
'82132',
'87194',
'3517',
'8459',
'25738',
'12378',
'53524',
'75324',
'39925',
'3536',
'53113',
'29603',
'14',
'39646',
'8776',
'78856',
'10509',
'8735',
'74736',
'20353',
'78364',
'12300',
'162',
'87286',
'34075',
'49609',
'61593',
'89696',
'24761',
'81464',
'32622',
'26',
'62114',
'60320',
'59498',
'22123',
'80198',
'23039',
'77913',
'60950',
'18554',
'88065',
'50962',
'1200',
'65170',
'47935',
'71911',
'2956',
'31503',
'67563',
'15342',
'58140',
'79389',
'61361',
'9777',
'89453',
'20068',
'75066',
'89217',
'89226',
'2821',
'81076',
'76882',
'82472',
'23326',
'27657',
'85519',
'35352',
'10680',
'45501',
'62995',
'42833',
'8143',
'76122',
'24003',
'49767',
'79877',
'76340',
'65349',
'80018',
'59674',
'5226',
'5151',
'75320',
'17105',
'60785',
'50251',
'52173',
'78636',
'48748',
'84189',
'7554',
'61983',
'79453',
'51558',
'62323',
'6834',
'53227',
'1695',
'21002',
'86657',
'87514',
'87249',
'80184',
'6940',
'10201',
'19755',
'23693',
'73153',
'59900',
'7026',
'55695',
'86902',
'22877',
'27730',
'27194',
'87877',
'11444',
'59016',
'85362',
'3779',
'61913',
'17294',
'27639',
'28802',
'6967',
'82521',
'27200',
'68475',
'30156',
'75789',
'59376',
'24911',
'73545',
'3741',
'30526',
'66389',
'53525',
'66941',
'76302',
'82976',
'83443',
'77166',
'2202',
'2655',
'49300',
'51559',
'23397',
'48420',
'38092',
'24738',
'10968',
'102',
'51018',
'24467',
'50637',
'84151',
'22923',
'59716',
'2535',
'1190',
'48343',
'66019',
'72879',
'37444',
'68448',
'47945',
'68296',
'88075',
'22190',
'7024',
'78096',
'39418',
'21044',
'9512',
'81418',
'50799',
'80021',
'2087',
'67175',
'60710',
'80697',
'327',
'24897',
'6357',
'75648',
'58969',
'18483',
'81276',
'87953',
'78275',
'59153',
'41318',
'9992',
'78122',
'2413',
'4566',
'79451',
'6138',
'957',
'5439',
'10330',
'24958',
'89388',
'78826',
'59812',
'9270',
'62517',
'10363',
'88020',
'5190',
'841',
'71010',
'60261',
'59000',
'44602',
'11929',
'89639',
'74524',
'35908',
'1474',
'30612',
'84647',
'19357',
'81288',
'28939',
'86327',
'69491',
'24567',
'75941',
'21523',
'59836',
'61583',
'26207',
'51710',
'85428',
'32116',
'68447',
'59195',
'59334',
'44526',
'49166',
'61100',
'58299',
'30440',
'88238',
'1519',
'61666',
'6988',
'89868',
'22789',
'78699',
'7027',
'22566',
'22191',
'56549',
'49053',
'74259',
'87640',
'87846',
'25123',
'76',
'7036',
'1281',
'34458',
'77603',
'88138',
'34009',
'1793',
'2507',
'86286',
'57022',
'14661',
'82899',
'45643',
'83332',
'4095',
'83080',
'61765',
'50881',
'10534',
'42634',
'42618',
'7636',
'24499',
'66113',
'87091',
'10986',
'81363',
'23118',
'82642',
'85153',
'60618',
'17295',
'43273',
'77996',
'74419',
'67249',
'25819',
'84389',
'5944',
'83465',
'22876',
'24515',
'30668',
'23827',
'38093',
'87248',
'17650',
'88193',
'58995',
'65366',
'25205',
'23634',
'62864',
'25330',
'60140',
'45583',
'19782',
'23977',
'18365',
'56894',
'23040',
'73228',
'63832',
'478',
'10944',
'2931',
'82478',
'80557',
'77048',
'60238',
'33465',
'73779',
'19022',
'61284',
'61818',
'61959',
'81168',
'84964',
'848',
'11900',
'22125',
'15880',
'14739',
'1078',
'30201',
'73614',
'19688',
'60552',
'88514',
'1097',
'1226',
'79959',
'1797',
'44115',
'75860',
'23325',
'82301',
'59080',
'1909',
'6810',
'59691',
'62822',
'83396',
'6950',
'72838',
'72213',
'67371',
'62121',
'22363',
'25316',
'85922',
'1219',
'30078',
'8991',
'83571',
'57434',
'82641',
'974') AND vd.path NOT REGEXP '/aac/h264/hls/'
ORDER BY vd.path ASC limit 0,1000;